#!/bin/bash
echo "üéÆ –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞ APK –¥–ª—è –•—Ä–æ–Ω–æ–ö–æ–ª–æ–¥–∞"
echo "=========================================="

# –°–æ–∑–¥–∞–µ–º –ø—Ä–æ—Å—Ç–æ–π standalone HTML –ø–∞–∫–µ—Ç
echo "üì¶ –°–æ–∑–¥–∞–Ω–∏–µ standalone –ø–∞–∫–µ—Ç–∞..."

# –°–æ–∑–¥–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Å–±–æ—Ä–∫–∏
BUILD_DIR="build"
rm -rf $BUILD_DIR
mkdir -p $BUILD_DIR

# –ö–æ–ø–∏—Ä—É–µ–º –≤—Å–µ web —Ñ–∞–π–ª—ã
cp -r www/* $BUILD_DIR/

# –°–æ–∑–¥–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª
cat > $BUILD_DIR/INSTALL.txt << 'INSTALLEOF'
==============================================
  –•—Ä–æ–Ω–æ–ö–æ–ª–æ–¥–∞: –ü—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ —Å–∫–≤–æ–∑—å –≠–ø–æ—Ö–∏
==============================================

üéÆ –ò–ì–†–ê –ì–û–¢–û–í–ê –ö –ó–ê–ü–£–°–ö–£!

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª index.html –≤ –≤–µ–±-–±—Ä–∞—É–∑–µ—Ä–µ
2. –ù–∞—á–Ω–∏—Ç–µ –∏–≥—Ä–∞—Ç—å!

–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ Android:
–í–∞—Ä–∏–∞–Ω—Ç 1 - –ß–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä:
1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–∞–ø–∫—É –Ω–∞ Android —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
2. –û—Ç–∫—Ä–æ–π—Ç–µ index.html –≤ Chrome –∏–ª–∏ –¥—Ä—É–≥–æ–º –±—Ä–∞—É–∑–µ—Ä–µ
3. –î–æ–±–∞–≤—å—Ç–µ –Ω–∞ –¥–æ–º–∞—à–Ω–∏–π —ç–∫—Ä–∞–Ω —á–µ—Ä–µ–∑ –º–µ–Ω—é –±—Ä–∞—É–∑–µ—Ä–∞

–í–∞—Ä–∏–∞–Ω—Ç 2 - APK Builder –æ–Ω–ª–∞–π–Ω:
1. –ü–æ—Å–µ—Ç–∏—Ç–µ —Å–∞–π—Ç: https://appsgeyser.com –∏–ª–∏ https://hermit.chimbori.com
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã –∏–ª–∏ —É–∫–∞–∂–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π –ø—É—Ç—å
3. –°–æ–∑–¥–∞–π—Ç–µ APK

–í–∞—Ä–∏–∞–Ω—Ç 3 - –ß–µ—Ä–µ–∑ Cordova (—Ç—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞):
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js –∏ Cordova: npm install -g cordova
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: cordova create myapp com.chronodeck.game ChronoDeck
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –∏–∑ www/ –≤ myapp/www/
4. cordova platform add android
5. cordova build android

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏–≥—Ä—ã:
‚úÖ 120+ —É—Ä–æ–≤–Ω–µ–π
‚úÖ 30+ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∫–∞—Ä—Ç
‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏
‚úÖ –í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–¥–æ–∫—Å—ã
‚úÖ –ö–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç
‚úÖ –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —ç–ø–æ—Ö–∏

–ü—Ä–∏—è—Ç–Ω–æ–π –∏–≥—Ä—ã! ‚è≥
INSTALLEOF

# –°–æ–∑–¥–∞–µ–º ZIP –∞—Ä—Ö–∏–≤
echo "üì¶ –°–æ–∑–¥–∞–Ω–∏–µ ZIP –∞—Ä—Ö–∏–≤–∞..."
cd $BUILD_DIR
zip -r ../ChronoDeck-WebGame-v1.0.0.zip * > /dev/null 2>&1
cd ..

echo "‚úÖ –°–æ–∑–¥–∞–Ω ZIP –∞—Ä—Ö–∏–≤: ChronoDeck-WebGame-v1.0.0.zip"

# –°–æ–∑–¥–∞–µ–º —Ç–∞–∫–∂–µ tar.gz
tar -czf ChronoDeck-WebGame-v1.0.0.tar.gz -C $BUILD_DIR . 2>/dev/null

echo "‚úÖ –°–æ–∑–¥–∞–Ω TAR –∞—Ä—Ö–∏–≤: ChronoDeck-WebGame-v1.0.0.tar.gz"

echo ""
echo "üì± –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è APK —Ñ–∞–π–ª–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω –∏–∑ –º–µ—Ç–æ–¥–æ–≤:"
echo ""
echo "–ú–µ—Ç–æ–¥ 1 - –û–Ω–ª–∞–π–Ω –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä—ã (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π):"
echo "  ‚Ä¢ AppsGeyser: https://appsgeyser.com"
echo "  ‚Ä¢ Hermit: https://hermit.chimbori.com"
echo "  ‚Ä¢ WebIntoApp: https://app.webintoapp.com"
echo ""
echo "–ú–µ—Ç–æ–¥ 2 - –ß–µ—Ä–µ–∑ Android Studio:"
echo "  1. –û—Ç–∫—Ä–æ–π—Ç–µ Android Studio"
echo "  2. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –∏–∑ –ø–∞–ø–∫–∏ 'android/'"
echo "  3. Build -> Build Bundle(s) / APK(s) -> Build APK(s)"
echo ""
echo "–ú–µ—Ç–æ–¥ 3 - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Gradle –∏ —Å–æ–±—Ä–∞—Ç—å:"
echo "  1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Gradle: https://gradle.org/install/"
echo "  2. cd android && ./gradlew assembleDebug"
echo ""
echo "=========================================="
echo "üéâ Web –≤–µ—Ä—Å–∏—è –∏–≥—Ä—ã –≥–æ—Ç–æ–≤–∞!"
echo "üìÇ –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: $BUILD_DIR/"
echo "üì¶ ZIP –∞—Ä—Ö–∏–≤: ChronoDeck-WebGame-v1.0.0.zip"
echo ""
echo "üåê –í—ã –º–æ–∂–µ—Ç–µ –∏–≥—Ä–∞—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å:"
echo "   –û—Ç–∫—Ä–æ–π—Ç–µ: file://$(pwd)/$BUILD_DIR/index.html"
